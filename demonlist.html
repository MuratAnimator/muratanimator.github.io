<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMITE GDPS Demon List</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: #121212;
            color: #fff;
            margin: 0;
            padding: 20px;
            background-image: linear-gradient(to bottom, #000000, #1a1a2e);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        input, select, textarea {
            color: white !important;
            background: #333 !important;
            border: 1px solid #444 !important;
            padding: 8px;
            border-radius: 4px;
            width: 100%;
            margin: 5px 0;
        }

        ::placeholder {
            color: #aaa !important;
            opacity: 1;
        }

        .difficulty-easy { color: #60D060; }
        .difficulty-medium { color: #F0F060; }
        .difficulty-hard { color: #FFA040; }
        .difficulty-insane { color: #FF6060; }
        .difficulty-extreme {
            color: #FF0000;
            text-shadow: 0 0 5px #FF0000;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.8; }
            50% { opacity: 1; }
            100% { opacity: 0.8; }
        }

        .table-container {
            width: 90%;
            max-width: 800px;
            margin: 0 auto;
            overflow-x: auto;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(255, 85, 85, 0.3);
            margin-bottom: 40px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }

        th {
            background: linear-gradient(to right, #FF5555, #FF0000);
            color: #000;
            padding: 12px;
            text-align: left;
        }

        td, th {
            border: 1px solid #444;
            padding: 10px;
        }

        .action-btn {
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            margin: 0 3px;
        }

        .delete-btn {
            background: #FF3333;
            color: white;
            border: none;
        }

        .form-panel {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            margin: 20px auto;
            width: 90%;
            max-width: 800px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .admin-tag {
            background: #FF0000;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8em;
            margin-left: 5px;
        }
        
        .export-btn {
            background: #555;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            margin-top: 10px;
            cursor: pointer;
        }
        
        .sync-notice {
            background: rgba(0, 100, 255, 0.3);
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            margin: 10px auto;
            max-width: 800px;
        }
    </style>
</head>
<body>
    <div id="userInfo" style="text-align: right; padding: 10px;">
        <a href="#" onclick="showAuthForm()">–í–æ–π—Ç–∏</a>
    </div>

    <div class="header">
        <h1>üî∫ SMITE GDPS DEMON LIST üî∫</h1>
        <div style="background: linear-gradient(45deg, #FF5555, #FF0000); color: white; padding: 5px 15px; border-radius: 20px; display: inline-block; font-weight: bold; margin: 10px 0; box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);">
            –û–§–ò–¶–ò–ê–õ–¨–ù–´–ô –î–ï–ú–û–ù-–õ–ò–°–¢ SMITE GDPS
        </div>
    </div>
    
    <div class="sync-notice">
        –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        <button onclick="loadDataFromGitHub()" style="background: #444; color: white; border: none; padding: 5px 10px; border-radius: 3px; margin-left: 10px;">–û–±–Ω–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å</button>
    </div>
    
    <div class="table-container">
        <table id="demonTable">
            <tr>
                <th>#</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–°–ª–æ–∂–Ω–æ—Å—Ç—å</th>
                <th>–ê–≤—Ç–æ—Ä</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </table>
    </div>

    <div id="addLevelForm" class="form-panel" style="display: none;">
        <h3>–î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</h3>
        <div class="form-group">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
            <input type="text" id="levelName" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required>
        </div>
        <div class="form-group">
            <label>–°–ª–æ–∂–Ω–æ—Å—Ç—å:</label>
            <select id="levelDifficulty">
                <option value="difficulty-easy">Easy Demon</option>
                <option value="difficulty-medium">Medium Demon</option>
                <option value="difficulty-hard">Hard Demon</option>
                <option value="difficulty-insane">Insane Demon</option>
                <option value="difficulty-extreme">Extreme Demon</option>
            </select>
        </div>
        <div class="form-group">
            <label>–ê–≤—Ç–æ—Ä:</label>
            <input type="text" id="levelAuthor" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∞" required>
        </div>
        <button onclick="addLevel()" style="margin-top: 10px;">–î–æ–±–∞–≤–∏—Ç—å</button>
        <button class="export-btn" onclick="exportData()">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è GitHub)</button>
    </div>

    <div id="authForm" class="form-panel" style="display: none;">
        <h3>–í—Ö–æ–¥</h3>
        <div class="form-group">
            <label>–ù–∏–∫:</label>
            <input type="text" id="username" placeholder="–í–∞—à –Ω–∏–∫–Ω–µ–π–º" required>
        </div>
        <div class="form-group">
            <label>–ü–∞—Ä–æ–ª—å:</label>
            <input type="password" id="password" placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å" required>
        </div>
        <button onclick="login()">–í–æ–π—Ç–∏</button>
        <button onclick="register()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        <button onclick="logout()" style="margin-top: 10px; background: #444;">–í—ã–π—Ç–∏</button>
    </div>

    <div class="footer">
        <div style="text-align: center; margin-top: auto; padding: 20px; background: rgba(0, 0, 0, 0.7); border-radius: 10px; width: 90%; max-width: 800px; margin-left: auto; margin-right: auto; margin-bottom: 20px;">
            <div style="font-size: 1em; color: #aaa; line-height: 1.6;">
                –°–ª–µ–¥–∏—Ç –∑–∞ —Å–ø–∏—Å–∫–æ–º: <span style="color: #FF5555; font-weight: bold;">Murat Animator (–ú—É—Ä–∞—Ç)</span><br>
                –•–æ—Å—Ç–∏—Ç: <span style="color: #FF5555; font-weight: bold;">Smite GDPS</span>
            </div>
        </div>
    </div>

    <script>
        // –ê–¥–º–∏–Ω-–∞–∫–∫–∞—É–Ω—Ç—ã
        const ADMINS = {
            "Murat Animator": "Adm!n@S3cur3#2024",
            "Starsy": "14072011starsyraf",
            "Smite": "25kk"
        };
        
        // URL –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ GitHub (–ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –°–í–û–ô!)
        const GITHUB_DATA_URL = 'https://raw.githubusercontent.com/–≤–∞—à-–ª–æ–≥–∏–Ω/–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π/main/demonlist-data.json';

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            initStorage();
            loadDataFromGitHub();
            checkAuth();
        });

        function initStorage() {
            if (!localStorage.getItem('demonLevels')) {
                localStorage.setItem('demonLevels', JSON.stringify([
                    { position: 1, name: "Bloodbath", difficulty: "difficulty-extreme", author: "Riot" },
                    { position: 2, name: "Cataclysm", difficulty: "difficulty-extreme", author: "Ggb0y" }
                ]));
            }
            if (!localStorage.getItem('users')) {
                localStorage.setItem('users', JSON.stringify([]));
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å GitHub
        async function loadDataFromGitHub() {
            try {
                const response = await fetch(GITHUB_DATA_URL);
                if (!response.ok) throw new Error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö");
                
                const data = await response.json();
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                localStorage.setItem('demonLevels', JSON.stringify(data.levels));
                localStorage.setItem('users', JSON.stringify(data.users || []));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É
                loadLevels();
                
                document.querySelector('.sync-notice').textContent = '‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å GitHub';
                setTimeout(() => {
                    document.querySelector('.sync-notice').textContent = '–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã';
                }, 3000);
            } catch (error) {
                console.error("–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:", error);
                document.querySelector('.sync-notice').textContent = '‚ö†Ô∏è –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ';
                loadLevels();
            }
        }

        function loadLevels() {
            const table = document.getElementById('demonTable');
            while (table.rows.length > 1) table.deleteRow(1);
            
            const levels = JSON.parse(localStorage.getItem('demonLevels')) || [];
            levels.forEach(level => addTableRow(level));
        }

        function addTableRow(level) {
            const table = document.getElementById('demonTable');
            const row = table.insertRow();
            
            row.insertCell(0).textContent = level.position;
            row.insertCell(1).textContent = level.name;
            
            const diffCell = row.insertCell(2);
            diffCell.textContent = getDifficultyText(level.difficulty);
            diffCell.className = level.difficulty;
            
            row.insertCell(3).textContent = level.author;
            
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser?.isAdmin) {
                const actionCell = row.insertCell(4);
                actionCell.innerHTML = `<button class="action-btn delete-btn" onclick="deleteLevel(${level.position})">–£–¥–∞–ª–∏—Ç—å</button>`;
            }
        }

        function deleteLevel(position) {
            if (!confirm("–£–¥–∞–ª–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å?")) return;
            
            let levels = JSON.parse(localStorage.getItem('demonLevels'));
            levels = levels.filter(l => l.position !== position)
                         .map((l, i) => ({ ...l, position: i + 1 }));
            
            localStorage.setItem('demonLevels', JSON.stringify(levels));
            loadLevels();
        }

        function addLevel() {
            const name = document.getElementById('levelName').value.trim();
            const difficulty = document.getElementById('levelDifficulty').value;
            const author = document.getElementById('levelAuthor').value.trim();
            
            if (!name || !author) return alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!");
            
            const levels = JSON.parse(localStorage.getItem('demonLevels'));
            const newLevel = {
                position: levels.length + 1,
                name,
                difficulty,
                author
            };
            
            levels.push(newLevel);
            localStorage.setItem('demonLevels', JSON.stringify(levels));
            loadLevels();
            
            document.getElementById('levelName').value = '';
            document.getElementById('levelAuthor').value = '';
        }

        function checkAuth() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            const userInfo = document.getElementById('userInfo');
            const addForm = document.getElementById('addLevelForm');
            
            if (user) {
                userInfo.innerHTML = `${user.username} ${user.isAdmin ? '<span class="admin-tag">ADMIN</span>' : ''} | <a href="#" onclick="logout()">–í—ã–π—Ç–∏</a>`;
                addForm.style.display = user.isAdmin ? 'block' : 'none';
            } else {
                userInfo.innerHTML = '<a href="#" onclick="showAuthForm()">–í–æ–π—Ç–∏</a>';
                addForm.style.display = 'none';
            }
            loadLevels();
        }

        function login() {
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            
            if (ADMINS[username] === password) {
                localStorage.setItem('currentUser', JSON.stringify({ username, isAdmin: true }));
                alert("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –∞–¥–º–∏–Ω!");
            } else {
                const users = JSON.parse(localStorage.getItem('users'));
                const user = users.find(u => u.username === username && u.password === password);
                if (!user) return alert("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞!");
                localStorage.setItem('currentUser', JSON.stringify({ username, isAdmin: false }));
            }
            
            document.getElementById('authForm').style.display = 'none';
            checkAuth();
        }

        function register() {
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            
            if (ADMINS[username]) return alert("–≠—Ç–æ—Ç –Ω–∏–∫ –∑–∞–Ω—è—Ç!");
            
            const users = JSON.parse(localStorage.getItem('users'));
            if (users.some(u => u.username === username)) return alert("–ù–∏–∫ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è!");
            
            users.push({ username, password });
            localStorage.setItem('users', JSON.stringify(users));
            alert("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!");
        }

        function logout() {
            localStorage.removeItem('currentUser');
            checkAuth();
        }

        function showAuthForm() {
            document.getElementById('authForm').style.display = 'block';
        }

        function getDifficultyText(difficulty) {
            const texts = {
                'difficulty-easy': 'Easy Demon',
                'difficulty-medium': 'Medium Demon',
                'difficulty-hard': 'Hard Demon',
                'difficulty-insane': 'Insane Demon',
                'difficulty-extreme': 'Extreme Demon ‚ö†Ô∏è'
            };
            return texts[difficulty] || 'Unknown';
        }
        
        // –§—É–Ω–∫—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è GitHub
        function exportData() {
            const data = {
                levels: JSON.parse(localStorage.getItem('demonLevels')),
                users: JSON.parse(localStorage.getItem('users'))
            };
            
            const jsonString = JSON.stringify(data, null, 2);
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'demonlist-data.json';
            document.body.appendChild(a);
            a.click();
            
            // –û—á–∏—Å—Ç–∫–∞
            setTimeout(() => {
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }, 100);
            
            alert("‚úÖ –§–∞–π–ª demonlist-data.json —Å–∫–∞—á–∞–Ω.\n\n–ó–ê–ì–†–£–ó–ò–¢–ï –ï–ì–û –í –ö–û–†–ï–ù–¨ –†–ï–ü–û–ó–ò–¢–û–†–ò–Ø GITHUB:\n1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub\n2. –ù–∞–∂–º–∏—Ç–µ 'Add file' ‚Üí 'Upload files'\n3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª\n4. –ù–∞–∂–º–∏—Ç–µ 'Commit changes'");
        }
    </script>
</body>
</html>
